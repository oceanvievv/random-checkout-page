<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>Checkout</title>

  <!-- CSS -->
  <link rel="stylesheet" href="css/reset.css">
  <link rel="stylesheet" href="css/index.css">
  <link rel="stylesheet" href="css/consts.css">
  <link rel="stylesheet" href="css/checkout.css">
  <link rel="stylesheet" href="css/controls.css">
  <link rel="stylesheet" href="css/inputs.css">
  <link rel="stylesheet" href="css/buttons.css">
  <link rel="stylesheet" href="css/total-badge.css">
  <link rel="stylesheet" href="css/copyright.css">

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@500;600;700&display=swap" rel="stylesheet">
</head>

<body class="page-text">
  <div class="container">
    <div class="content-wrapper">
      <!-- Checkout -->
      <div class="checkout-content-wrapper">

        <!-- Title -->
        <div class="checkout__title color-cape-cod">
          Checkout
        </div>

        <!-- Checkout form & total-badge -->
        <div class="checkout-form-and-total-badge-wrapper">
          <form class="checkout__form">
            <div class="checkout__form-group">
              <div class="checkout__form-group-title color-night-rider">
                Contact information
              </div>

              <div class="checkout__form-inputs-wrapper">
                <label class="base-input">
                  <div class="base-input__title color-matterhorn">
                    E-mail
                  </div>
                  <div class="base-input__input-wrapper">
                    <div class="base-input__icon-wrapper">
                      <img src="icons/mail-icon.svg" alt="Email">
                    </div>
                    <input required type="email" placeholder="Enter your email...">
                  </div>
                </label>

                <label class="base-input">
                  <div class="base-input__title color-matterhorn">
                    Phone
                  </div>
                  <div class="base-input__input-wrapper">
                    <div class="base-input__icon-wrapper">
                      <img src="icons/phone.svg" alt="Phone">
                    </div>
                    <input required type="tel" pattern="[0-9]{1}[0-9]{3}[0-9]{3}[0-9]{2}[0-9]{2}" max="11" min="11" oninvalid="this.setCustomValidity('Format: 89999999999. Without `+`. Length - 11.')"
                    oninput="this.setCustomValidity('')" placeholder="Enter your phone...">
                  </div>
                </label>
              </div>
            </div>

            <div class="checkout__form-group">
              <div class="checkout__form-group-title color-night-rider">
                Shipping address
              </div>

              <div class="checkout__form-inputs-wrapper">
                <label class="base-input">
                  <div class="base-input__title color-matterhorn">
                    Full name
                  </div>
                  <div class="base-input__input-wrapper">
                    <div class="base-input__icon-wrapper">
                      <img src="icons/profile.svg" alt="Full name">
                    </div>
                    <input required type="text" placeholder="Your full name...">
                  </div>
                </label>

                <label class="base-input">
                  <div class="base-input__title color-matterhorn">
                    Address
                  </div>
                  <div class="base-input__input-wrapper">
                    <div class="base-input__icon-wrapper">
                      <img src="icons/house.svg" alt="Address">
                    </div>
                    <input required type="text" placeholder="Your address...">
                  </div>
                </label>

                <label class="base-input">
                  <div class="base-input__title color-matterhorn">
                    City
                  </div>
                  <div class="base-input__input-wrapper">
                    <div class="base-input__icon-wrapper">
                      <img src="icons/building.svg" alt="City">
                    </div>
                    <input required type="text" placeholder="Your city...">
                  </div>
                </label>

                <div class="checkout__form-inline-inputs">
                  <label class="base-input checkout__form-50-50-inputs">
                    <div class="base-input__title color-matterhorn">
                      Country
                    </div>
                    <div class="base-input__input-wrapper">
                      <div class="base-input__icon-wrapper">
                        <img src="icons/world.svg" alt="Country">
                      </div>
                      <input required type="text" placeholder="Your country...">
                      <div class="control__wrapper">
                        <img src="icons/arrow-down.svg" alt="Select country">
                      </div>
                    </div>
                  </label>
  
                  <label class="base-input checkout__form-50-50-inputs">
                    <div class="base-input__title color-matterhorn">
                      Postal code
                    </div>
                    <div class="base-input__input-wrapper">
                      <div class="base-input__icon-wrapper">
                        <img src="icons/mailbox.svg" alt="Postal code">
                      </div>
                      <input required type="text" placeholder="Your postal code...">
                    </div>
                  </label>
                </div>
              </div>

              <label class="checkbox-input-wrapper">
                <input required type="checkbox" class="checkbox-input">
                <div class="checkbox-input__title color-matterhorn">
                  Save this information for next time
                </div>
              </label>
            </div>

            <button type="submit" class="checkout__form-button">
              Continue
            </button>
          </form>

          <div class="checkout__total-badge-wrapper">
            <div class="checkout__total-items">
              <div class="checkout__total-item">
                <div class="checkout__item-photo-wrapper">
                  <img src="images/photo1.png" alt="Item 1">
                </div>
                <div class="checkout__item-info-and-controls">
                  <div class="checkout__item-info">
                    <div class="checkout__item-title color-cape-cod">
                      Vintage Backbag 
                    </div>
                    <div class="checkout__item-prices">
                      <div class="checkout__item-actual-price color-sea-buckthorn">
                        $54.99
                      </div>
                      <div class="checkout__item-last-price color-cape-cod text-line-through">
                        $94.99
                      </div>
                    </div>
                  </div>

                  <div class="quantity-control__wrapper">
                    <div class="control__wrapper" onload="getCurrentPrice()" onclick="substract('counter1')">
                      <img src="icons/substract.svg" alt="Substract">
                    </div>
                    <div id="counter1" class="checkout__item-input-quantity color-night-rider">
                      1
                    </div>
                    <div class="control__wrapper" onclick="add('counter1')">
                      <img src="icons/add.svg" alt="Add">
                    </div>
                  </div>
                </div>
              </div>

              <div class="checkout__total-item">
                <div class="checkout__item-photo-wrapper">
                  <img src="images/photo2.png" alt="Item 1">
                </div>
                <div class="checkout__item-info-and-controls">
                  <div class="checkout__item-info">
                    <div class="checkout__item-title color-cape-cod">
                      Vintage Backbag 
                    </div>
                    <div class="checkout__item-prices">
                      <div class="checkout__item-actual-price color-sea-buckthorn">
                        $74.99
                      </div>
                      <div class="checkout__item-last-price color-cape-cod text-line-through">
                        $124.99
                      </div>
                    </div>
                  </div>

                  <div class="quantity-control__wrapper">
                    <div class="control__wrapper" onclick="substract('counter2')">
                      <img src="icons/substract.svg" alt="Substract">
                    </div>
                    <div id="counter2" class="checkout__item-input-quantity color-night-rider">
                      1
                    </div>
                    <div class="control__wrapper" onclick="add('counter2')">
                      <img src="icons/add.svg" alt="Add">
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <div class="checkout__additional-costs-items color-night-rider">
              <div class="checkout__additional-costs-item">
                <div class="checkout__additional-costs-title">
                  Shipping
                </div>
                <div class="checkout__additional-costs-price">
                  $19
                </div>
              </div>
            </div>

            <div class="checkout__total color-night-rider">
              <div class="checkout__total-title">
                Total
              </div>
              <div id="total" class="checkout__total-price">
                loading...
              </div>
            </div>
          </div>
        </div>

      </div>

      <!-- Copyright -->
      <div class="copyright">
        <p class="copyright__text text-semi-bold color-silver">
          created by <span class="text-bold text-underline">oceanvievv</span> - KQsquad
        </p>
      </div>
    </div>
  </div>

  <script src="js/quantityControl.js"></script>
  <script src="js/totalPrice.js"></script>
  <script>
    window.onload = function() {
      setTimeout(() => {
        const shippingCost = 19;
        const items = document.getElementsByClassName('checkout__item-actual-price');

        for (let i = 0; i < items.length; i++) {
          const itemPrice = +items[i].innerText.replace('$', '');
          const itemCounterValue = +items[i].parentElement.parentElement.parentElement.children[1].children[1].innerText;

          if (typeof(itemPrice) === 'number' && typeof(itemCounterValue) === 'number') updateTotalPrice(itemPrice * itemCounterValue, 'add');
        }

        const totalEl = document.getElementById("total");
        let currTotalPrice = +totalEl.innerText.replace("$", "");
        totalEl.innerText = currTotalPrice + shippingCost;
      }, 1000)
    }
  </script>
</body>

</html>